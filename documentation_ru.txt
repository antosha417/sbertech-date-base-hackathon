        Документация по приложению для сертификации данных команды САВок


    1. Общая информация
Приложение предствляет собой web-сервер и сервер с базой данных. Web-сервер обеспечивает связь между пользователем и 
базой данных и предоставляет пользователю html-страницу с интерфейсом для работы с отчетами.

    2. Устройство базы данных
База данных содержит 5 таблиц c актуальными данными, 5 таблиц с историей данных и по две таблицы для каждого типа 
отчета, хранящих первоначальный и исправленный отчет с метками о сертификации.
    2.1 Структура таблиц
        2.1.1 Структура таблиц с актуальными данными:
            * Клиенты Users: id; Имя; Адрес; Дата, начиная с которой актуальны данные
            * Договоры Contracts: id; id типа котракта; id клиента; id счета; 
                        Дата заключения; Дата завершения; 
                        Дата, начиная с которой актуальны данные
            * Счета Bill: id; Остаток на счете
            * Типа контрактов Type_info: id; "Информация о типе котнтракта"
        2.1.2 Структура таблиц с историей совпадает со структурой таблиц с актуальными данными. Она отличается наличием
поля actual_to, обозначающим, до какой даты актуальны данные.
        2.1.3 Таблицы с отчетами хранят результаты отчетов (одна до исправлений, другая после) и булевый флаг, 
определяющий, сертифицированны ли данные.
    2.2 Историчность данных.
    Для поддержания историчности данных используются табоица хранящие историю изменения даных.
    На события изменения и удаления данных установлены триггеры, которые добавляют старые данные в таблицу с историей
(Дата, начиная с которой актуальны данные задается соответсвующим значением в таблице с актуальными данными, Дата, до
которой действительны данные равна текущей дате.)
    Алгоритм поиска данных: ищется запись в таблице с актуальными данными, если данные стали актуальны после требуемой
    даты, поиск продолжается в таблице с историей.
    
    3. Пользовательский интерфейс.
    Интерфейс для пользователя является html-страницей, на которой можно выбрать тип отчета. После выбора типа, отчет
записывается в таблицу с неисправленными данными. Если пользоваель сертифицирует данные, они сохраняются в таблице с 
неисправленными данными и им выставляется флаг о сертификации. Если данные были исправлены, они записываются в таблицу
 с исправленными данными с выставленным флагом о сертификации.
 
